plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}


configurations {
    agent
}

dependencies {
    compileJava.options.encoding = 'UTF-8'
    compileTestJava.options.encoding = 'UTF-8'
    implementation 'com.squareup.okio:okio:1.14.0'
    implementation 'org.testng:testng:7.1.0'
    implementation 'net.qiujuer.common:okhttp:3.0.0'
    implementation 'io.appium:java-client:7.3.0'
    implementation 'com.google.guava:guava-bom:31.1-jre'
    implementation 'commons-lang:commons-lang:2.6'
    implementation 'org.apache.commons:commons-exec:1.3'
    implementation 'net.bytebuddy:byte-buddy-android-test:1.12.8'
    implementation 'com.google.inject:guice:4.1.0'
    agent "org.aspectj:aspectjweaver:1.8.0"
    implementation "ru.yandex.qatools.allure:allure-testng-adaptor:1.4.0.RC4"
}


test.doFirst {
    jvmArgs "-javaagent:${configurations.agent.singleFile}"
}

test {
    useTestNG()
}